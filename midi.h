#ifndef MIDI
#define MIDI

int isNoteOn(unsigned long m);
int isNoteOff(unsigned long m);
int isClock(unsigned long m );
int noteCode(int note,int octave);
double code2Freq(int note);

#define MIDI_BANK_SELECT				0
#define MIDI_MODULATION_WHEEL			1
#define MIDI_BREATH_CONTROLLER			2
#define MIDI_FOOT_PEDAL					4
#define MIDI_PORTAMENTO_TIME			5
#define MIDI_DATA_ENTRY					6
#define MIDI_VOLUME						7
#define MIDI_BALANCE					8
#define MIDI_PAN_POSITION				10
#define MIDI_EXPRESSION					11
#define MIDI_EFFECT_CONTROL_1			12
#define MIDI_EFFECT_CONTROL_2			13
#define MIDI_GENERAL_PURPOSE_SLIDER_1	16
#define MIDI_GENERAL_PURPOSE_SLIDER_2	17
#define MIDI_GENERAL_PURPOSE_SLIDER_3	18
#define MIDI_GENERAL_PURPOSE_SLIDER_4	19
#define MIDI_BANK_SELECT_FINE			32
#define MIDI_MODULATION_WHEEL_FINE		33
#define MIDI_BREATH_CONTROLLER_FINE		34
#define MIDI_FOOT_PEDAL_FINE			36
#define MIDI_PORTAMENTO_TIME_FINE		37
#define MIDI_DATA_ENTRY_FINE			38
#define MIDI_VOLUME_FINE				39
#define MIDI_BALANCE_FINE				40
#define MIDI_PAN_POSITION_FINE			42
#define MIDI_EXPRESSION_FINE			43
#define MIDI_EFFECT_CONTROL_1_FINE		44
#define MIDI_EFFECT_CONTROL_2_FINE		45
#define MIDI_HOLD_PEDAL					64
#define MIDI_PORTAMENTO					65
#define MIDI_SUSTENUTO_PEDAL			66
#define MIDI_SOFT_PEDAL					67
#define MIDI_LEGATO_PEDAL				68
#define MIDI_HOLD_2_PEDAL				69
#define MIDI_SOUND_VARIATION			70
#define MIDI_SOUND_TIMBRE				71
#define MIDI_SOUND_RELEASE_TIME			72
#define MIDI_SOUND_ATTACK_TIME			73
#define MIDI_SOUND_BRIGHTNESS			74
#define MIDI_SOUND_CONTROL_6			75
#define MIDI_SOUND_CONTROL_7			76
#define MIDI_SOUND_CONTROL_8			77
#define MIDI_SOUND_CONTROL_9			78
#define MIDI_SOUND_CONTROL_10			79
#define MIDI_GENERAL_PURPOSE_BUTTON_1	80
#define MIDI_GENERAL_PURPOSE_BUTTON_2	81
#define MIDI_GENERAL_PURPOSE_BUTTON_3	82
#define MIDI_GENERAL_PURPOSE_BUTTON_4	83
#define MIDI_EFFECTS_LEVEL				91
#define MIDI_TREMULO_LEVEL				92
#define MIDI_CHORUS_LEVEL				93
#define MIDI_CELESTE_LEVEL				94
#define MIDI_PHASER_LEVEL				95
#define MIDI_DATA_BUTTON_INCREMENT		96
#define MIDI_DATA_BUTTON_DECREMENT		97
#define MIDI_NON_REGISTERED_PARAMETER	98
#define MIDI_NON_REGISTERED_PARAMETER_FINE	99
#define MIDI_REGISTERED_PARAMETER		100
#define MIDI_REGISTERED_PARAMETER_FINE	101
#define MIDI_ALL_SOUND_OFF				120
#define MIDI_ALL_CONTROLLERS_OFF		121
#define MIDI_LOCAL_KEYBOARD				122
#define MIDI_ALL_NOTES_OFF				123
#define MIDI_OMNI_MODE_OFF				124
#define MIDI_OMNI_MODE_ON				125
#define MIDI_MONO_OPERATION				126
#define MIDI_POLY_OPERATION				127

#define MIDI_CH0_NOTE_OFF	0x80
#define MIDI_CH1_NOTE_OFF	0x81
#define MIDI_CH2_NOTE_OFF	0x82
#define MIDI_CH3_NOTE_OFF	0x83
#define MIDI_CH4_NOTE_OFF	0x84
#define MIDI_CH5_NOTE_OFF	0x85
#define MIDI_CH6_NOTE_OFF	0x86
#define MIDI_CH7_NOTE_OFF	0x87
#define MIDI_CH8_NOTE_OFF	0x88
#define MIDI_CHB_NOTE_OFF	0x8B
#define MIDI_CHA_NOTE_OFF	0x8A
#define MIDI_CHB_NOTE_OFF	0x8B
#define MIDI_CHC_NOTE_OFF	0x8C
#define MIDI_CHD_NOTE_OFF	0x8D
#define MIDI_CHE_NOTE_OFF	0x8E
#define MIDI_CHF_NOTE_OFF	0x8F

#define MIDI_CH0_NOTE_ON		0x90
#define MIDI_CH1_NOTE_ON		0x91
#define MIDI_CH2_NOTE_ON		0x92
#define MIDI_CH3_NOTE_ON		0x93
#define MIDI_CH4_NOTE_ON		0x94
#define MIDI_CH5_NOTE_ON		0x95
#define MIDI_CH6_NOTE_ON		0x96
#define MIDI_CH7_NOTE_ON		0x97
#define MIDI_CH8_NOTE_ON		0x98
#define MIDI_CHB_NOTE_ON		0x9B
#define MIDI_CHA_NOTE_ON		0x9A
#define MIDI_CHB_NOTE_ON		0x9B
#define MIDI_CHC_NOTE_ON		0x9C
#define MIDI_CHD_NOTE_ON		0x9D
#define MIDI_CHE_NOTE_ON		0x9E
#define MIDI_CHF_NOTE_ON		0x9F

#define MIDI_CH0_POLY_AT		0xA0
#define MIDI_CH1_POLY_AT		0xA1
#define MIDI_CH2_POLY_AT		0xA2
#define MIDI_CH3_POLY_AT		0xA3
#define MIDI_CH4_POLY_AT		0xA4
#define MIDI_CH5_POLY_AT		0xA5
#define MIDI_CH6_POLY_AT		0xA6
#define MIDI_CH7_POLY_AT		0xA7
#define MIDI_CH8_POLY_AT		0xA8
#define MIDI_CH9_POLY_AT		0xA9
#define MIDI_CHA_POLY_AT		0xAA
#define MIDI_CHB_POLY_AT		0xAB
#define MIDI_CHC_POLY_AT		0xAC
#define MIDI_CHD_POLY_AT		0xAD
#define MIDI_CHE_POLY_AT		0xAE
#define MIDI_CHF_POLY_AT		0xAF

#define MIDI_CH0_CTRL_CN		0xB0
#define MIDI_CH1_CTRL_CN		0xB1
#define MIDI_CH2_CTRL_CN		0xB2
#define MIDI_CH3_CTRL_CN		0xB3
#define MIDI_CH4_CTRL_CN		0xB4
#define MIDI_CH5_CTRL_CN		0xB5
#define MIDI_CH6_CTRL_CN		0xB6
#define MIDI_CH7_CTRL_CN		0xB7
#define MIDI_CH8_CTRL_CN		0xB8
#define MIDI_CH9_CTRL_CN		0xB9
#define MIDI_CHA_CTRL_CN		0xBA
#define MIDI_CHB_CTRL_CN		0xBB
#define MIDI_CHC_CTRL_CN		0xBC
#define MIDI_CHD_CTRL_CN		0xBD
#define MIDI_CHE_CTRL_CN		0xBE
#define MIDI_CHF_CTRL_CN		0xBF

#define MIDI_CH0_PROG_CN		0xC0
#define MIDI_CH1_PROG_CN		0xC1
#define MIDI_CH2_PROG_CN		0xC2
#define MIDI_CH3_PROG_CN		0xC3
#define MIDI_CH4_PROG_CN		0xC4
#define MIDI_CH5_PROG_CN		0xC5
#define MIDI_CH6_PROG_CN		0xC6
#define MIDI_CH7_PROG_CN		0xC7
#define MIDI_CH8_PROG_CN		0xC8
#define MIDI_CH9_PROG_CN		0xC9
#define MIDI_CHA_PROG_CN		0xCA
#define MIDI_CHB_PROG_CN		0xCB
#define MIDI_CHC_PROG_CN		0xCC
#define MIDI_CHD_PROG_CN		0xCD
#define MIDI_CHE_PROG_CN		0xCE
#define MIDI_CHF_PROG_CN		0xCF

#define MIDI_CH0_PRESS		0xD0
#define MIDI_CH1_PRESS		0xD1
#define MIDI_CH2_PRESS		0xD2
#define MIDI_CH3_PRESS		0xD3
#define MIDI_CH4_PRESS		0xD4
#define MIDI_CH5_PRESS		0xD5
#define MIDI_CH6_PRESS		0xD6
#define MIDI_CH7_PRESS		0xD7
#define MIDI_CH8_PRESS		0xD8
#define MIDI_CH9_PRESS		0xD9
#define MIDI_CHA_PRESS		0xDA
#define MIDI_CHB_PRESS		0xDB
#define MIDI_CHC_PRESS		0xDC
#define MIDI_CHD_PRESS		0xDD
#define MIDI_CHE_PRESS		0xDE
#define MIDI_CHF_PRESS		0xDF

#define MIDI_CH0_PWH_CN		0xE0
#define MIDI_CH1_PWH_CN		0xE1
#define MIDI_CH2_PWH_CN		0xE2
#define MIDI_CH3_PWH_CN		0xE3
#define MIDI_CH4_PWH_CN		0xE4
#define MIDI_CH5_PWH_CN		0xE5
#define MIDI_CH6_PWH_CN		0xE6
#define MIDI_CH7_PWH_CN		0xE7
#define MIDI_CH8_PWH_CN		0xE8
#define MIDI_CH9_PWH_CN		0xE9
#define MIDI_CHA_PWH_CN		0xEA
#define MIDI_CHB_PWH_CN		0xEB
#define MIDI_CHC_PWH_CN		0xEC
#define MIDI_CHD_PWH_CN		0xED
#define MIDI_CHE_PWH_CN		0xEE
#define MIDI_CHF_PWH_CN		0xEF

#define MIDI_SYSEX_BEGIN		0xF0
#define MIDI_QUARTER_FRAME_MSG	0xF1
#define MIDI_SONG_POSITION_PTR	0xF2
#define MIDI_SONG_SELECT		0xF3
#define MIDI_TUNE_REQUEST		0xF6
#define MIDI_SYSEX_END			0xF7
#define MIDI_CLOCK				0xF8
#define MIDI_START				0xFA
#define MIDI_CONTINUE			0xFB
#define MIDI_STOP				0xFC
#define MIDI_ACTIVE_SENSE		0xFE
#define MIDI_RESET				0xFF
#define MIDI_SYSTEM_COMMON		0xF0
#define MIDI_SYSEX				0xF0
#define MIDI_SYSTEM_REAL_TIME	0xF8
#define MIDI_CHANNEL_MASK		0x0F

#define NOTE_A 0
#define NOTE_B 2
#define NOTE_C 3
#define NOTE_D 5
#define NOTE_E 7
#define NOTE_F 8
#define NOTE_G 10

#define NOTE_A_FLAT -1
#define NOTE_B_FLAT 1
#define NOTE_C_FLAT 2
#define NOTE_D_FLAT 4
#define NOTE_E_FLAT 6
#define NOTE_F_FLAT 7
#define NOTE_G_FLAT 9

#define NOTE_A_SHARP 1
#define NOTE_B_SHARP 3
#define NOTE_C_SHARP 4
#define NOTE_D_SHARP 5
#define NOTE_E_SHARP 8
#define NOTE_F_SHARP 9
#define NOTE_G_SHARP 11

#endif
